<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Catskull.net &middot; The blog of David DeGraw
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.png">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <img src="/public/davedegrawicon.png">
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item active" href="/">Home</a>

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
      
    
      
    
      
        
          <a class="sidebar-nav-item" href="/resume/">Resume</a>
        
      
    

  </nav>

</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Catskull.net</a>
            <small>The blog of David DeGraw</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/gameboy/hack/2015/04/14/erase-an-ems-64-usb-gameboy-cart/">
        How To: Completely Erase the ROM of an EMS 64m USB Gameboy Cart
      </a>
    </h1>

    <span class="post-date">14 Apr 2015</span>

    <p>Recently, I’ve been playing around with my EMS 64m USB gabmeboy cartridge. The cart itself works well for what it is, but the flashing software is completely lacking. It’s Windows only, and that’s if you’re even able to get the drivers installed (which is basically impossible). The cart has two “pages” each 32mbit for a total of 64. It changes between the two pages with a ghetto power cycle. Basically it just has a little capacitor that gets charged when the gameboy is on, and if the cap still has a charge when the cartridge is booted it goes to page 2. This works pretty well for getting from page 1 to page 2, but getting from page 2 back to 1 is a hassle because you just have to wait for the capacitor to discharge. That makes me wonder how hard it would be to replace the capacitor with a switch or button of some kind, but that’s beyond the scope of this post.</p>

<p>Another interesting drawback to the cart is that it can only support one sav at a time. In other words, if you had Pokemon Blue on page 1, and Pokemon Gold on page 2, you could only keep one save for each at a time. Save in Blue, then switch to Gold and save and guess what? Your blue save is gone.</p>

<p>The windows flashing utility that ships with the cart has support for multi rom. I don’t know the intricacies of it, but basically it just patches all the roms you give it into one big rom, and then throws on a custom menu rom they made. So the short story is that the cart itself is “dumb”, and their patched multirom menu could be used just as well on almost any flash cart. Because of the wackyness of switching pages, usually I just like to put the exact same roms on both pages, so I don’t have to deal with it. I mean, how many roms could you possibly want on the same cart, especialy given the limited sav space? So I have LSDJ as my “main” rom (intended for use saves), and then a bunch of non-save roms (like tetris).</p>

<p>Fortunately, Mike Ryan wrote a command-line driver for *nix systems. You can find more information about that <a href="http://lacklustre.net/projects/ems-flasher/">here</a>. It works extremely well and is ultra reliable. The one caveat is that it does not support multi rom. It can write to both pages, but only one rom on each.</p>

<p>Talented “Gameboy Genius” nitro2k01 has been working on a file manager called LSMC for LSDJ for some time. The goal is to add better song management to LSDJ, as well as other cool features like the ability to transfer songs over a link cable. He achieved this by writing a rom that is then patched onto the LSDJ rom. So rather then booting straight to LSDJ, you’re greeted by his file manager that can then load a song and boot into LSDJ. As an experiment he wrote a multi rom menu specifically for the EMS cart. It’s a dirty hack; you have to manually append the roms you want to the patched LSDJ rom with a tool like cat on Unix or copy on Windows. The end result is one large gameboy rom with LSDJ, the file manager, and your other roms all nicely tucked into one big rom. Now we have a nice multi rom image ready to flash with Mike Ryan’s custom *nix driver!</p>

<p>It works great!</p>

<p><strong><em>This is where the blog post gets on topic.</em></strong></p>

<p>The one issue is that it appears that the *nix driver only overwrites the sectors of the of the memory that it needs to. Say you’re flashing an 8 megabit rom, it will only overwrite the first 8 megabits of the memory. This is normal operation for memory writing. Deleting a file on your computer doesn’t actually delete it, it just tells the system that space can now be safely overwritten. The issue comes from how nitro2k01’s multi rom menu works. From my understanding it just looks for any other rom headers in the memory. But what happens if you flash a multi rom image that takes up all the memory, but then later decide that you don’t want all those roms and flash a smaller rom, the other roms will still show up in the menu because they haven’t actually been overwritten! If I’m not explaining this very well, just let met know. I will include pictures below as well for clarifacation.</p>

<p>I worked up a solution to this that’s extremely simple. If you’re reformatting a drive on your computer and want to make sure none of the files can be recovered, you have to not only reformat the drive, but overwrite all data with 0’s or something like that. Knowning that, I fired up my hex editor and wrote a file that’s 32 mbit in size and contains only 0’s. Then I wrote that to my cart. I booted it up to make sure everything was gone, and then re-wrote my multi rom. And just like that, all the old roms were gone, and only the new ones were there!</p>

<p>To expand on this, it would be nice to contribute more to the *nix driver to include either support for writing to specific locations or for multi rom support out of the box. Unfortunately my C driver coding skills are nonexistant so that’s not happening any time soon.</p>

<p><a href="http://goo.gl/2gFbTT">The blank rom can be downloaded here.</a></p>

<p><img src="/public/ems/badrom.jpg" alt="Bad rom! I don't want all of those!" />
I only want the top two roms to show up in the menu.</p>

<p><img src="/public/ems/blank.jpg" alt="Blank" />
Just what I want, a totally blank rom!</p>

<p><img src="/public/ems/goodrom.jpg" alt="Good rom!" />
The payoff, after re flashing the multi rom image, only to two that I want are there!</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/baby/projects/2015/04/09/baby-nursery-red-light/">
        Building an Ambient Red Light For the Nursery
      </a>
    </h1>

    <span class="post-date">09 Apr 2015</span>

    <p>15 MINUTE PROJECT!!!!</p>

<p>Synopsis: Our baby is due in like a month. Crazy. Anticipating the countless hours spent in the nursery in the middle of the night, I wanted some kind of light that would be a little bit easier on the eyes in the middle of the night. I remembered learning that red light travels at a longer wavelength than other colors, so that’s good to use at night because your eyes don’t adjust to it as much. Thanks to Radio Shack going out of business, I picked up a 5 ft roll of red leds for cheap. I figured, why don’t I just go ahead and make a nightlight? It was pretty simple.</p>

<p>Details: The led roll runs off of 12v DC. That’s a fairly common voltage, so I had an adapter laying around. I ordered some panel mount barrel connectors to fit the power adapter. I also ordered some handly little switches that have a power indicator led built into them. They are designed to be used in a car, so the led needs 12v also. You could use the switch for any voltage, but it must be 12v for the led to turn on. The last thing was just a cheap project box. All of these were bought off eBay for a total of around $10. Soldering it up was pretty straightforward, as was drilling the appropriate holes in the enclosure. I mounted the enclosure to the side of our changing table so I could run the led strip behind it to diffuse the bright leds a little bit. Have you ever had an led shining straight into your eye? Not fun, no matter what color it is. The only thing left was a little bit of hot glue to secure the led strip in place, and I was in business. Overall, I’m pretty happy with the result.</p>

<p>Difficulty: One poopy diaper.</p>

<p>Frustration: One stinky diaper.</p>

<p>Payoff: A sleeping little babe (and wife!)</p>

<p>Overall project: A lot easier than having a baby, that’s for sure.</p>

<p><img src="/public/baby/switch.jpg" alt="The Switch" /></p>

<p><img src="/public/baby/jack.jpg" alt="The Jack" /></p>

<p><img src="/public/baby/wiring.jpg" alt="The Wiring" /></p>

<p><img src="/public/baby/wires.jpg" alt="The Wires" /></p>

<p><img src="/public/baby/mounted.jpg" alt="The Mounting" /></p>

<p><img src="/public/baby/in_action.jpg" alt="In Action" /></p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/general/programming/2015/03/22/slow-down-and-save-yourselves/">
        Slow Down, for Productivity's Sake
      </a>
    </h1>

    <span class="post-date">22 Mar 2015</span>

    <p>Recently, my brother and I were working on a programming project. It was a pretty fun one too, so we were immediately sucked in. We started at about 4:30 PM and within probably an hour we had all the framework built out and the only thing left was the “hard part”. Fast forward to about 8 PM. We were stuck dead in our tracks on the “hard part”. Try as we might, there was just no way we could figure out a way to implement it.</p>

<p>Then, a thought occurred to me.</p>

<p>Working in the past full time professionally doing rails development I would often get distracted, even for stretches of 10 to 15 minutes. Whether it was watching a video on youtube, reading an article online, or just chatting with a coworker about something non work related, it would happen. I would estimate that for each hour I was at work, this would occur at least once. Often I would feel extremely guilty for being at work, getting paid, and not really working. I’m sure any manager out there reading this is currently looking up my previous employers to convince them to sue me. Just bear with me while I attempt to get my point across.</p>

<p>The <a href="http://en.wikipedia.org/wiki/Attention_span">wikipedia article</a> on attention span suggests that the average healthy adult can focus on one thing for anywhere from 5 to 20 minutes. The argument could certainly be made that programming doesn’t involve just focusing on one thing, but rather many different thinks and multitasking. However, I tend to view any given project to be one whole thing one would focus their attention on (i.e., wether you’re digging the post holes or painting it, at the end of the day you’ve still <em>only</em> been building a fence all day). The wikipedia article doesn’t go into details about what usually happens when an adult tries to focus on something <em>longer</em> than their attention span, but I have some thoughts to share from my experience.</p>

<p>Consider that if I am focusing on my work for 100% of the time I am at work, I would also be 100% productive. However, the facts show that this is virtually impossible for any normal human adult. So let’s say, and this is an extreme estimation, that I am only focusing on my work for half the time I’m at work. In other words, hypothetically, I’m only 50% productive. So I get only 4 hours of work done in a given 8 hour period. Ideally, I’d be able to be 100% productive. But in reality, I’d get to work, be 100% effective for <em>maybe</em> the first 3 hours, and by 11 AM I’d be completely burnt out and probably wouldn’t be able to work much more for the rest of the day. So I would get 3 hours of work done in an 8 hour period. Granted that my examples or exaggerated and extreme, but I think the point is still solid. <em>I’m better off working slowly.</em></p>

<p>Now let’s jump back to my brother and I scratching our heads with impossibility.</p>

<p>We had been focusing 100% of our attention on our project for about 3 and 1/2 hours. Or 1000% of our maximum attention span of 20 minutes. In order to proceed on the project, we shut the computer off, went to dinner, and didn’t think or talk about the project until the next day. In other words, <em>we were sick of our project</em>. At that 8 PM mark if you would have given me the option to take a bullet to the foot and never have to think about the project again, or being forced to work on it for another 30 minutes, I would have seriously considered taking the bullet. Can you imagine if I’d been at work, getting paid, and had a manager bearing down on me to get the project finished <em>that day</em>?</p>

<p>But <em>why</em>? Why were we to burned out? Remember, this was initially something we had found “fun”! Why would I prefer to get shot rather than working on something I considered entertaining? A possible theory was that the project just didn’t have enough “fun” in it to last that long. I would argue against that because upon resuming the project the next day, I again found it to be “fun”. I think really the only reason is that I just didn’t have the mental capacity to focus on a task for that long. <em>I needed to take a break.</em></p>

<p>We’ve all read time and again articles that say you should spend x amount of time doing something else for every y amount of time you’re working on the computer. “Stand for every 10 minutes of sitting down.” I tend to be a believer in those recommendations, for the most part. Of course, the implementation proves to be exponentially more difficult than the discovery. And I think really, at the end of the day, it’s all the same thing: <strong>SLOW DOWN</strong>. Take a break. Relax. Go show a coworker a youtube video. Read an article unrelated to work. For heaven’s sake, go take a short walk outside. Because if you’re anything like I am, it will be for your own good. You will become more productive, reduce stress, drastically limit burnout, and be generally a happier and more effective person in general.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/general/2015/03/10/welcome-to-the-new-blog/">
        Welcome to my new blog
      </a>
    </h1>

    <span class="post-date">10 Mar 2015</span>

    <p>I’ve been blogging in various forms for at least the last 5 years. I started using blogspot, then switched to tumblr, then svbtle, and now I’m happy and proud to be switching fully to jekyll. I was attracted by the amount of control I have over my content, both in creation and display. Being able to write it using really whatever format I choose is awesome! In case you were wondering, I’m writing this in markdown. I don’t really plan on switching to anything else any time soon, but you never know. I’m excited to be able to easily embed code snippets (with syntax highlighting). That was kind of the breaking point for me with svbtle, <em>no</em> code snippets whatsoever.</p>

<p>I will be keeping a work log of various projects I’m involved with both now and in the future. This may include ruby (rails), arduino, raspberry pi, verilog/fpga’s, and other various embedded systems.</p>

<p>Keep checking back as this should be updated frequently!</p>

  </div>
  
</div>

<div class="pagination">
  
    <span class="pagination-item older">Older</span>
  
  
    <span class="pagination-item newer">Newer</span>
  
</div>


      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
